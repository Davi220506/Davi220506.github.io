<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exercício 4</title>
    <style>
        body{
    background-color:rgb(75, 74, 74);
    font-family: Arial, sans-serif;
    font-size: 16px;
    color: aliceblue;
}

h3 {
    font-size: 24px;
    text-align: center;
}

h4 {
    font-size: 18px;
}

button{
    padding: 5px 15px;
    border: none;
    border-radius: 5px;
    background-color:  rgb(224, 221, 221);
}

button:hover{
    background-color: rgb(164, 165, 165);
    cursor: pointer;
    transition: .7s;
}
    </style>

</head>
<body>
    <a href="lista.html"><button>Voltar</button></a><br>

    <h3>Exercício 4</h3>

    <p>4. Estatísticas de texto: Faça um programa que leia um texto e indique a palavra de maior ocorrência e quantas vezes ela apareceu no texto, conte o número de palavras e o total de letras.</p><br>

    <label for="frase">Escreva a frase:</label><br><br>
    <textarea name="frase" id="frase" cols="30" rows="10" required></textarea><br><br>
    <button id="click">Clique</button>
    <p id="resultado"></p>

    <script>
     const botao = document.getElementById("click");
     
     botao.addEventListener('click', function() {

     const texto = document.getElementById("frase").value;
     const palavras = texto.split(" ");

     const frequencias = {};
     let maiorFrequencia = 0;
     let palavraMaisFrequente = "";

    for (let i = 0; i < palavras.length; i++) {
    const palavra = palavras[i].toLowerCase();

    if (frequencias[palavra]) {
    frequencias[palavra]++;
    } 

    else {
    frequencias[palavra] = 1;
    }


    if (frequencias[palavra] > maiorFrequencia) {
    maiorFrequencia = frequencias[palavra];
    palavraMaisFrequente = palavra;
    }
}
    console.log(frequencias);
    console.log(palavraMaisFrequente);
    console.log(maiorFrequencia);

    // Conta letras
    const letras = texto.trim().split("");
    const contaLetras = letras.length;
    console.log(contaLetras);

    // Conta palavras
    const contaPalavras = palavras.length;
    console.log(contaPalavras);
    
    const resultado = document.getElementById("resultado");
    
    resultado.innerHTML = `
    Palavra de maior ocorrência: ${palavraMaisFrequente} <br>
    Quantas vezes ela apareceu no texto: ${maiorFrequencia} <br>
    Número de palavras: ${contaPalavras} <br>
    Número de letras: ${contaLetras} <br>
    `
     });
     
    </script>
</body>
</html>
